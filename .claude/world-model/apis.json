{
  "_meta": {
    "description": "API-Calls und externe Services",
    "version": "1.0",
    "lastUpdated": "2025-12-12"
  },

  "fetch_calls": {
    "total": 29,
    "note": "Native fetch f√ºr HTTP-Requests"
  },

  "firebase_functions": {
    "call_pattern": "firebase.functions().httpsCallable('functionName')",
    "functions": {
      "parseDATPDF": { "purpose": "PDF parsing mit GPT-4 Vision", "input": "base64 PDF", "output": "parsed data" },
      "generateAngebotPDF": { "purpose": "Angebot-PDF generieren", "input": "angebot data", "output": "PDF URL" },
      "sendAngebotPDFToAdmin": { "purpose": "PDF per Email senden", "input": "PDF URL + email", "output": "success" },
      "createPartnerAutoLoginToken": { "purpose": "QR-Code Login Token", "input": "partnerId", "output": "token" },
      "validatePartnerAutoLoginToken": { "purpose": "Token validieren", "input": "token", "output": "partnerId" },
      "whisperTranscribe": { "purpose": "Sprache zu Text", "input": "audio blob", "output": "text" },
      "synthesizeSpeech": { "purpose": "Text zu Sprache", "input": "text", "output": "audio URL" }
    }
  },

  "external_apis": {
    "openai": {
      "count": 4,
      "services": ["GPT-4 Vision (PDF parsing)", "Whisper (STT)", "TTS-1-HD"],
      "auth": "OPENAI_API_KEY (Secret Manager)"
    },
    "youtube": {
      "count": 2,
      "usage": "Anleitungs-Videos einbetten"
    }
  },

  "cdn_resources": {
    "gstatic": { "count": 332, "usage": "Firebase, Google Fonts" },
    "unpkg": { "count": 48, "usage": "NPM-Pakete" },
    "cdnjs": { "count": 33, "usage": "Libraries (jsPDF, etc.)" },
    "jsdelivr": { "count": 13, "usage": "GitHub CDN" }
  },

  "internal_apis": {
    "github_pages": {
      "url": "marcelgaertner1234.github.io",
      "usage": "Static hosting, Auto-deploy"
    }
  },

  "aws_services": {
    "ses": {
      "region": "eu-central-1",
      "usage": "Email-Versand (DSGVO-konform)",
      "auth": "AWS_ACCESS_KEY_ID, AWS_SECRET_ACCESS_KEY"
    }
  }
}
